{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" integrity="sha512-pO8vYk1M56+X61AYLh7/ZKe1BllRQmu4ZmG4uN6deqN+7CfsqByxk0KmZ7os8Qx6HyZ+o7u+0E9e6hZ7YlYhRg==" crossorigin="anonymous" referrerpolicy="no-referrer" />

<link rel="stylesheet" href="{% static 'base.css' %}">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
          <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

</head>
<body>
    <div class="food">
            <nav class="navbar navbar-dark bg-dark fixed-top">
  <div class="container-fluid">
    <a  class="navbar-brand " href="#">Zengary</a>
            <a class="navbar-brand" href="{% url 'log'%}">log in</a>

    <button class="navbar-toggler" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasDarkNavbar" aria-controls="offcanvasDarkNavbar" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="offcanvas offcanvas-end text-bg-dark" tabindex="-1" id="offcanvasDarkNavbar" aria-labelledby="offcanvasDarkNavbarLabel">
      <div class="offcanvas-header">
        <h5 style="color: aliceblue;" class="offcanvas-title" id="offcanvasDarkNavbarLabel">Zengary</h5>
        <button type="button" class="btn-close btn-close-white" data-bs-dismiss="offcanvas" aria-label="Close"></button>
      </div>
      <div class="offcanvas-body">
        <ul class="navbar-nav justify-content-end flex-grow-1 pe-3">
          <li class="nav-item">
            <a class="nav-link active" aria-current="page" href="{% url 'home'%}">Home</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="{% url 'log'%}">log in</a>
          </li>
          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
              product pages
            </a>
            <ul class="dropdown-menu dropdown-menu-dark">
              <li><a class="dropdown-item" href="{% url 'food'%}">food page</a></li>
              <li><a class="dropdown-item" href="{% url 'chef'%}">chef page </a></li>
              <li>
                
              </li>
              <li><a class="dropdown-item" href="{% url 'about'%}"">About page</a></li>
            </ul>
          </li>
        </ul>
        <form class="d-flex mt-3" role="search">
          <input class="form-control me-2" type="search" placeholder="Search" aria-label="Search"/>
          <button class="btn btn-success" type="submit">Search</button>
        </form>
      </div>
    </div>
  </div>
</nav>
<div class="up">
    <img src="{% static '4c5dd89ea4caabf5a90376ce21f8e20f.jpg' %}" alt="img food">
    <h2>These are the chef's best dishes.</h2>
</div>
<br><br><br>
<div class="center">
    <h4>These are the chef's best dishes. :</h4><br>
    <div class="btn-group btns" role="group" aria-label="Basic outlined example">
    {% for category in categories %}
  <button type="button" class="btn btn-outline-primary btn_groub">{{category}}</button>
{% endfor %}
</div>
</div>
    <div class="row row-cols-1 row-cols-md-3 g-4row row-cols-1 row-cols-md-3 g-4">
{% for dish in dishs %}
{% if dish.best == "best" %}
<div class="col">

    <div class="card alldish dish{{dish.category}}">
    {% if dish.img %}
          <img src="{{dish.img.url}}" style="height: 250px; width: 100%; object-fit:cover;"  class="card-img-top img-fluid custom-img" alt="...">
      {% else %}
      <img src="{% static 'R.jpg' %}" class="card-img-top" alt="...">
   {% endif %}
     <div class="row card-body ">
                <p>title: {{dish.title}}</p>

        <div class="col-3 text-warning">
        <h5 class="card-title">{{dish.status}}</h5>
        <p class="card-text">condition</p>
      <a href="{% url 'rate' %}?dish_id={{ dish.id }}" class="btn btn-primary">Rating</a>

        </div>
          <div class="col-3">
        <h5 class="card-title">{{dish.price}}$</h5>
        <p class="card-text">price</p>
        </div>
          <div class="col-6">
         <h5 class="card-title  ">{% with dish.avg_rating|floatformat:0 as avg %}
    {% for i in "12345" %}
        {% if forloop.counter <= avg|add:0 %}
            <span style="color: gold;">&#9733;</span>
        {% else %}
            <span style="color: gray;">&#9734;</span>
        {% endif %}
    {% endfor %}
{% endwith %}{{ dish.avg_rating }}</h5>
<p>Rating</p>
                <a href="{% url 'reservation'%}?dish_id={{dish.id}}" style="width: 100%;" class="btn btn-primary">reserve </a>



 


        </div>
      </div>
   
    </div>
  </div>
  {% endif %}
  {% endfor %}
</div>
    </div>
<script>
$(document).ready(function () {
  $(".btn_groub").click(function () {
    var category = $(this).text().trim(); 
    $('.alldish').hide();                 
    $('.dish' + category).show();          
  });
});
</script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
   <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>

</body>
</html>
